@model IEnumerable<TodoAppWithMvcAjaxHelpers.Todo>

<div id="list_panel">
    <div class="card">
        <div class="card-header">
            <div class="pull-left">
                <h4 class="text-primary font-weight-bold">Task List</h4>
            </div>
            <div class="pull-right my-0">
                @Ajax.ActionLink("Refresh", "List", null, new AjaxOptions() { HttpMethod = "GET", InsertionMode = InsertionMode.Replace, LoadingElementId = "loading", LoadingElementDuration = 300, UpdateTargetId = "list_panel" }, new { @class = "btn btn-primary btn-sm", id = "btn_refresh" })
            </div>
        </div>
        <div class="card-body">
            <div class="mt-3">
                <table class="table">
                    <tr>
                        <th>
                            @Html.DisplayNameFor(model => model.Text)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.IsCompleted)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.DueDate)
                        </th>
                        <th></th>
                    </tr>

                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.Text)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.IsCompleted)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.DueDate)
                            </td>
                            <td>
                                @Ajax.ActionLink("Edit", "Edit", new { id = item.Id }, new AjaxOptions() { HttpMethod = "GET", InsertionMode = InsertionMode.Replace, LoadingElementId = "loading", LoadingElementDuration = 300, UpdateTargetId = "create_panel" }, new { @class = "btn btn-warning btn-sm" })

                                @Ajax.ActionLink("Details", "Details", new { id = item.Id }, new AjaxOptions() { HttpMethod = "GET", InsertionMode = InsertionMode.Replace, UpdateTargetId = "details_panel" }, new { @class = "btn btn-info btn-sm" })

                                @Ajax.ActionLink("Delete", "Delete", new { id = item.Id }, new AjaxOptions() { HttpMethod = "GET", InsertionMode = InsertionMode.Replace, LoadingElementId = "loading", LoadingElementDuration = 300, UpdateTargetId = "list_panel" }, new { @class = "btn btn-danger btn-sm" })
                            </td>
                        </tr>
                    }

                </table> 
            </div>
        </div>
        <div class="card-footer">
            <div id="details_panel"></div>
        </div>
    </div>
</div>
